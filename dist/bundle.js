(()=>{"use strict";const e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let t;const n=new Uint8Array(16);function r(){if(!t&&(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(n)}const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));const s=function(t,n,s){if(e.randomUUID&&!n&&!t)return e.randomUUID();const o=(t=t||{}).random||(t.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){s=s||0;for(let e=0;e<16;++e)n[s+e]=o[e];return n}return function(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}(o)};class o{get id(){return this._id}get name(){return this._name}set name(e){this._name=e}get price(){return this._price}set price(e){this._price=e}get description(){return this._description}set description(e){this._description=e}constructor(e=s(),t,n,r){this._id=e,this._name=t,this._price=n,this._description=r}ItemHTMLElement(){const e=document.createElement("div");e.innerHTML=`${this._name} ${this._price} ${this._description} <button class = 'add-one' id = 'a1${this._id}></button>`;const t=document.getElementById(`a1${this._id}`);return null==t||t.addEventListener("click",(e=>{})),e}}class a{get id(){return this._id}get name(){return this._name}set name(e){this._name=e}get age(){return this._age}set age(e){this._age=e}get cart(){return this._cart}set cart(e){this._cart=e}constructor(e=s(),t,n,r){this._id=e,this._name=t,this._age=n,this._cart=r}addToCart(e){this._cart.push(e)}removeFromCart(e){this._cart=this._cart.filter((t=>e.id!==t.id))}removeQuantityFromCart(e,t){let n=this._cart.filter((t=>e.id==t.id)).length;this.removeFromCart(e);for(let r=n-t;r>0;r--)this.addToCart(e)}cartTotal(){return this._cart.map((e=>e.price)).reduce(((e,t)=>e+t))}printCart(){for(let e of this._cart)console.log(e.name)}CartHTMLElement(){let e={},t={},n={};for(let r of this._cart)n.hasOwnProperty(r.name)?n[r.name]++:(n[r.name]=1,t[r.name]=r.id,e[r.name]=r.price);const r=document.createElement("div");let i="";for(const r in n)i+=`<div class = 'row'>${r} ${e[r]} ${n[r]} <button class = 'remove-one' id = 'r1${t[r]}'>Remove One</button><button class = 'remove-all' id = 'ra${t[r]}'>Remove All</button></div>`;return r.innerHTML=i,r}static loginUser(e,t){return new a(s(),e,t,[])}}class c{static loginUser(e){e.preventDefault();const t=document.getElementById("username").value,n=parseInt(document.getElementById("userage").value);c.myUser=a.loginUser(t,n);const r=document.getElementById("login");null==r||r.classList.replace("is-visible","is-invisible");const i=document.getElementById("shoparea"),s=document.getElementById("cartarea");null==i||i.classList.replace("is-invisible","is-visible"),null==s||s.classList.replace("is-invisible","is-visible")}ShowItems(){const e=document.getElementById("shoparea");for(let t of this._stock)null==e||e.appendChild(t.ItemHTMLElement())}UpdateCart(){var e,t;const n=document.getElementById("cartarea"),r=document.createElement("div");r.innerHTML="Your cart is empty",(null===(e=c.myUser)||void 0===e?void 0:e.CartHTMLElement())?null==n||n.appendChild(null===(t=c.myUser)||void 0===t?void 0:t.CartHTMLElement()):null==n||n.appendChild(r)}get stock(){return this._stock}set stock(e){this._stock=e}constructor(e=new o(s(),"lollipop",4,"licky licky"),t=new o(s(),"laffy taffy",2,"sticky icky"),n=new o(s(),"chocolates",5,"yum yum"),r=new o(s(),"candy cane",1,"crickle crackle"),i=new o(s(),"bubblegum",2,"pop!"),a=new o(s(),"gummy worms",3,"creepy crawlie")){this._stock=[e,t,n,r,i,a],this.ShowItems(),this.UpdateCart()}}const l=document.getElementsByClassName("remove-one");for(let e=0;e<l.length;e++)l[e].addEventListener("click",(e=>{}));const d=document.getElementsByClassName("remove-all");for(let e=0;e<d.length;e++)d[e].addEventListener("click",(e=>{}));document.getElementById("submitbutton").addEventListener("click",(e=>c.loginUser(e)))})();